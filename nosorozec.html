<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EQ V√Ωsledok ‚Äì Nosoro≈æec</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        max-width: 700px;
        margin: 2rem auto;
        background-color: #f9fafb;
        border: 2px solid #d1d5db;
        border-radius: 1rem;
        padding: 2rem 2.5rem;
        color: #4b5563;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
      }

      .highlight-border {
        border: 2px solid #2d2d2d; /* V√Ωrazn√° ƒçierna pre horn√Ω box */
      }
      
      h1 {
        font-size: 2rem;
        margin-bottom: 1.5rem;
        text-align: center;
        color: #374151;
      }

      .score {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem 1rem;
        margin-bottom: 2rem;
        font-size: 1.05rem;
      }

      .score-item {
        background-color: #ffffff;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        border: 1px solid #e5e7eb;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem; /* V√§ƒç≈°√≠ rozostup medzi jednotliv√Ωmi polo≈ækami */
      }

      .score-label {
        font-weight: 500;
        color: #6b7280;
      }

      .score-value {
        font-weight: bold;
        padding: 0.25rem 0.6rem;
        border-radius: 0.4rem;
        font-variant-numeric: tabular-nums;
      }
      
      .result-text {
        margin-top: 2rem;
        padding: 1.5rem;
        background-color: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 0.75rem;
        font-size: 1.02rem;
        line-height: 1.65;
        text-align: justify;
        color: #374151;
      }

      canvas {
        width: 100%;
        height: auto;
        margin: 2rem 0;
      }

      @media (max-width: 768px) {
        .score {
          grid-template-columns: 1fr;
        }
        h1 {
          font-size: 1.8rem;
        }
        .score-item {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <h1>ü¶è NOSORO≈ΩEC</h1>

    <div class="score-item highlight-border">
      <span class="score-label">Glob√°lne EQ</span>
      <span class="score-value">4.3</span>
    </div>

    <div class="score-item">
      <span class="score-label">Well-being</span>
      <span class="score-value">6.0</span>
    </div>

    <div class="score-item">
      <span class="score-label">Sebakontrola</span>
      <span class="score-value">3.3</span>
    </div>

    <div class="score-item">
      <span class="score-label">Emocionalita</span>
      <span class="score-value">3.9</span>
    </div>

    <div class="score-item">
      <span class="score-label">Sociabilita</span>
      <span class="score-value">4.7</span>
    </div>

    <canvas id="eqChart" width="400" height="300"></canvas>

    <div class="result-text">
      <p>
        Celkov√© EQ m√°≈° √∫plne v pohode priemere. To, ƒço u teba vynik√°, je tvoj well-being. Sk√≥re 6 je par√°dne a znamen√°, ≈æe si spokojn√° a vyrovnan√° osoba...
      </p>
    </div>

    <script>
      Chart.register(window['chartjs-plugin-annotation']);

      // Naƒç√≠tanie v≈°etk√Ωch labelov a hodn√¥t
      const scoreItems = document.querySelectorAll('.score-item');
      const labels = [];
      const data = [];
      const backgroundColors = [];

      scoreItems.forEach((item, index) => {
        const label = item.querySelector('.score-label').textContent.trim();
        const value = parseFloat(item.querySelector('.score-value').textContent);
        
        labels.push(label);
        data.push(value);

        // Dynamick√© pridanie farieb podƒæa sk√≥re
        let color = '#e5e7eb'; // Default
        if (value >= 5.7) {
          color = '#22c55e'; // veryHigh - zelen√°
        } else if (value >= 4.8) {
          color = '#84cc16'; // high - svetl√° zelen√°
        } else if (value >= 3.3) {
          color = '#eab308'; // average - ≈ælt√°
        } else if (value >= 2.4) {
          color = '#fbbf24'; // low - oran≈æov√°
        } else {
          color = '#f26560'; // veryLow - ƒçerven√°
        }

        backgroundColors.push(color);
      });

      const ctx = document.getElementById("eqChart").getContext("2d");
      new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [{
            label: "Sk√≥re",
            data: data,
            backgroundColor: backgroundColors,
            borderRadius: 10,
            categoryPercentage: 0.5,
            barPercentage: 0.92
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: false,
              min: 1,
              max: 7,
              ticks: {
                stepSize: 1
              },
              grid: {
                drawTicks: false,
                color: '#e5e7eb'
              }
            }
          },
          plugins: {
            annotation: {
              annotations: {
                veryLow: {
                  type: 'box',
                  yMin: 0,
                  yMax: 2.3,
                  backgroundColor: 'rgba(242, 85, 96, 0.1)',
                  borderWidth: 0,
                  drawTime: 'beforeDatasetsDraw'
                },
                low: {
                  type: 'box',
                  yMin: 2.4,
                  yMax: 3.2,
                  backgroundColor: 'rgba(251, 191, 36, 0.1)',
                  borderWidth: 0,
                  drawTime: 'beforeDatasetsDraw'
                },
                average: {
                  type: 'box',
                  yMin: 3.3,
                  yMax: 4.7,
                  backgroundColor: 'rgba(234, 179, 8, 0.1)',
                  borderWidth: 0,
                  drawTime: 'beforeDatasetsDraw'
                },
                high: {
                  type: 'box',
                  yMin: 4.8,
                  yMax: 5.6,
                  backgroundColor: 'rgba(132, 204, 22, 0.1)',
                  borderWidth: 0,
                  drawTime: 'beforeDatasetsDraw'
                },
                veryHigh: {
                  type: 'box',
                  yMin: 5.7,
                  yMax: 7,
                  backgroundColor: 'rgba(34, 197, 94, 0.1)',
                  borderWidth: 0,
                  drawTime: 'beforeDatasetsDraw'
                }
              }
            }
          }
        }
      });
    </script>
  </body>
</html>
